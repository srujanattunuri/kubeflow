apiVersion: rbac.istio.io/v1alpha1
kind: ServiceRoleBinding
metadata:
  annotations:
    role: edit
    user: $(PROFILE_USER)  # replace with the email of the user from your Active Directory case sensitive
  generation: 1
  name: user-$(PROFILE_USER)-clusterrole-edit
  # Ex: if the user email is lalith.vaka@kp.org the name should be user-lalith-vaka-kp-org-clusterrole-edit
  # Note: if the user email is Lalith.Vaka@kp.org from your Active Directory, the name should be user-lalith-vaka-kp-org-clusterrole-edit
  namespace: $(PROFILE_NAMESPACE)
# replace with the namespace/profile name that you are adding contribbitors to
spec:
  roleRef:
    kind: ServiceRole
    name: ns-access-istio
  subjects:
  - properties:
      request.headers[kubeflow-userid]: $(PROFILE_USER)   # replace with the email of the user from your Active Directory case sensitive
status: {}
